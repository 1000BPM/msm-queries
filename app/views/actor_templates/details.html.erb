<h1>Actor #<%= @the_actor.id %> details</h1>

<a href="/actor">Go back</a>

<hr>

<dl>
  <dt>Name</dt>
  <dd><%= @the_actor.name%></dd>
  <dt>DOB</dt>
  <dd><%= @the_actor.dob%></dd>
  <dt>Bio</dt>
  <dd><%= @the_actor.bio%></dd>
  <dt>Image</dt>
  <dd><img src="<%= @the_actor.image%>" width="200"></dd>
  <dt>Created at</dt>
  <dd><%= @the_actor.created_at%></dd>
  <dt>Updated at</dt>
  <dt><%= @the_actor.updated_at%></dd>
</dl>

<!--Create the filmography table-->
<hr>
<h2>Filmography</h2>

<table border = "1">
  <tr>
    <th>Title</th>
    <th>Year</th>
    <th>Director</th>
    <th>Character Name</th>
    <th></th>
 </tr>
<%matching_character = Character.where( {:actor_id => @the_actor.id}) %>

<% matching_character.each do |a_char| %>
  <tr>
    <td>
    <% matching_movies = Movie.where( {:id => a_char.movie_id} ) %>
    <% the_movie = matching_movies.at(0) %>
    <%= the_movie.title%>
    </td>
    <td>
    <%= the_movie.year%>
    </td>
    <td>
    <% matching_director = Director.where( {:id => the_movie.director_id })%>
    <% the_director = matching_director.at(0)%>
    <%= the_director.name%></td>
    <td><%= a_char.name%></td>
    <td><a href = "movies/<%= the_movie.id %>">Show details</td>
  </tr>
  <%end%> 

</table>
 
